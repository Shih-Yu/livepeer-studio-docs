---
title: API
slug: api
sidebar_class_name: tabbed-page
pagination_next: guides/playback-a-video-stream
hide_title: true
displayed_sidebar: mySidebar
---

import Tabs from "./_tabs.mdx";
import CodeBlock from "@theme/CodeBlock";
import CodeBlockTabs from "@site/src/components/CodeBlockTabs";
import CodeBlockTabItem from "@site/src/components/CodeBlockTabItem";

<Tabs />

:::note

The viewership API is still in development. Currently, we only support start
views, views when you open or start watching an asset. In the future, we'll
support additional viewership and engagement metrics so you can understand your
user's experience.

:::

## Step 1: Register views

To collect and register viewership metrics, you need to configure your player.
Currently the viewership data is only registered if you're using the
[Livepeer player](https://livepeerjs.org/). It also comes fully configured for
the best playback experience with Livepeer, so it's the recommended way to get
started. You can follow [this guide](/guides/playback-a-video-stream) to setup
the Livepeer player.

We are currently working on support for viewership data using custom players as
well. If you need any urgent help with this
[get in touch](https://livepeer.studio/contact) and we may be able to assist
you.

## Step 1: Get the `asset.id` of an existing asset

Get the `asset.id` of an existing asset. An `asset.id` can be found in the
response object of any API call working with assets. If you haven't created an
asset yet, you can follow the
[upload a video asset guide](/guides/on-demand/upload-video-asset#api) to do so.

## Step 2: Retrieve viewership data

Once you have the `asset.id`, you can make a request to get the viewership data.

<CodeBlockTabs>
<CodeBlockTabItem value="JavaScript" label="JavaScript">

```js
const getViews = await fetch(
  "https://livepeer.studio/api/data/views/{assetId}/total",
  {
    method: "GET",
    headers: {
      Authorization: `Bearer ${process.env.API_TOKEN}`,
    },
  }
);
```

</CodeBlockTabItem>
<CodeBlockTabItem value="curl" label="curl">

```bash
curl --location --request GET https://livepeer.studio/api/data/views/{assetId}/total \
    -H "Authorization: $LP_API_KEY"
```

</CodeBlockTabItem>
</CodeBlockTabs>

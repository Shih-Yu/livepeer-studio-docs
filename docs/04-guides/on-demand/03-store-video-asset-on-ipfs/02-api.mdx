---
sidebar_class_name: tabbed-page
hide_title: true
slug: api
title: API
---

import Tabs from "./_tabs.mdx";
import CodeBlock from "@theme/CodeBlock";
import CodeBlockTabs from "@site/src/components/CodeBlockTabs";
import CodeBlockTabItem from "@site/src/components/CodeBlockTabItem";

<Tabs />

The Livepeer API allows you to send video files to Livepeer and get them ready
for optimized playback. Videos can be provided either by you (static content) or
your users, given your application offers an interface for them to do so.

:::caution Caveats

- Currently assets cannot be deleted from the default Livepeer Studio storage.
  You can customize any additional storage though.
- Only IPFS is supported as an additional storage provider. We're currently
  working on adding additional storage providers. If you have requirements for a
  particular storage provider, please reach out to us at
  [help@livepeer.studio](mailto:help@livepeer.studio).
:::

## Step 1: Get the `asset.id` of an existing asset

Get the `asset.id` of an existing asset. An `asset.id` can be found in the
response object of any API call working with assets. If you haven't created an
asset yet, you can follow the
[upload a video asset guide](/guides/on-demand/upload-video-asset#api) to do so.

## Step 2: Store the asset on IPFS

Once you have an `asset.id`, you can make a request to update the asset's
storage location.

<CodeBlockTabs>
<CodeBlockTabItem value="Livepeerjs" label="Livepeerjs">

```js
import {
  LivepeerConfig,
  createReactClient,
  studioProvider,
  useAsset, 
  useUpdateAsset
} from '@livepeer/react';
 
const client = createReactClient({
  provider: studioProvider({ apiKey: 'yourStudioApiKey' }),
});
 
const assetId = '7ce29561-91ae-42cf-b9c0-6e46dbc1cc2d';
 
function App() {
  const { data: asset } = useAsset({
    assetId,
    refetchInterval: 10000,
  });
  const { mutate: updateAsset, status, error } = useUpdateAsset();
 
  return (
    <LivepeerConfig client={client}>
      <div>
        <button
          disabled={status === 'loading'}
          onClick={() => {
            updateAsset({
              assetId,
              storage: { ipfs: true },
            });
          }}
        >
          Upload to IPFS
        </button>
        {asset && (
          <>
            <div>Asset Name: {asset?.name}</div>
            <div>IPFS CID: {asset?.storage?.ipfs?.cid ?? 'None'}</div>
          </>
        )}
        {error && <div>{error.message}</div>}
      </div>
    </LivepeerConfig>
  );
}
```

</CodeBlockTabItem>
<CodeBlockTabItem value="JavaScript" label="JavaScript">

```js
const storeAssetOnIPFS = await fetch("https://livepeer.studio/api/asset/{id}", {
  method: "PATCH",
  headers: {
    Authorization: `Bearer ${process.env.API_TOKEN}`,
    "Content-Type": "application/json",
  },
  body: {
    storage: {
      ipfs: true,
    },
  },
});
```

</CodeBlockTabItem>
<CodeBlockTabItem value="curl" label="curl">

```bash
curl -X PATCH https://livepeer.studio/api/asset/{id} \
-H 'content-type: application/json' \
-H 'authorization: Bearer $API_TOKEN' \
-d {"storage": {"ipfs": true}}
```

</CodeBlockTabItem>
</CodeBlockTabs>
